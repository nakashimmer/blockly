<!DOCTYPE html>
<html>
	<head>
		<script src="blockly_compressed.js"></script> 
		<script src="blocks_compressed.js"></script> 
		<script src="msg/js/ja.js"></script>
		<script src="javascript_compressed.js"></script>
		<style>
			#code{border:1px solid gray;width:500px;height:300px;}
		</style>
	</head>
	<body>
		<div id="blocklyDiv" style="height:480px; width:600px;"></div>
		<textarea id="code">a</textarea>
	
		<xml id="toolbox" style="display:none">
			<block type="controls_if"></block>
			<block type="controls_repeat_ext"></block>
			<block type="logic_compare"></block>
			<block type="math_number"></block>
			<block type="math_arithmetic"></block>
			<block type="text"></block>
			<block type="text_print"></block>
		</xml>

		<script>
			var workspace = Blockly.inject(
				'blocklyDiv',
				{toolbox: document.getElementById('toolbox')}
			);
			var code = Blockly.JavaScript.workspaceToCode(workspace);
			function myUpdateFunction(event) {
				var code = Blockly.JavaScript.workspaceToCode(workspace);
				document.getElementById('code').value = code;
			}

		</script>
	
	</body>
</html>